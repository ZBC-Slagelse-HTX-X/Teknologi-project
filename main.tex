%%% PREAMBLE
\documentclass[12pt, a4paper]{article}
%% Packages
% Layout 
\usepackage{parskip} % Changes parskip from being indent-based to adding vertical space
\usepackage[margin=2.5cm]{geometry} % Adjust margins to comply with 2,5cm standard
\usepackage{float}
\usepackage{pdflscape}
\usepackage{listings}

% 
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Font management (for math and normal text)
\usepackage{lmodern} % Changes font to Latin Modern
\usepackage{amssymb, amsmath, amsthm} % Adds math functionality, fonts and environments

% Bibliography and comment management
\usepackage[backend=biber,style=nature,language=danish]{biblatex} % Bibliography management
\addbibresource{bibliography.bib} % Sets the bibliography-file
\usepackage{csquotes} % Adds babel-biliography compatability 
\usepackage{comment} % Comments package for citation-purposes

% Appendix, attachments management
\usepackage[toc,page]{appendix} %
\renewcommand{\appendixtocname}{Appendiks}
\renewcommand{\appendixpagename}{Appendiks}
\usepackage{pdfpages} % Including PDF-pages
    \usepackage{eso-pic}
    \usepackage{atbegshi}
    \usepackage{ifthen}
    \usepackage{calc}
    
    % miscellaneous
    \usepackage[danish]{translator}
    \usepackage[danish]{babel} % Multi-lingual support - danish
    \usepackage{lipsum} % Adds lipsum functionality
    \usepackage{graphicx} %Titlepage - graphic support
    \usepackage[colorlinks = true,linkcolor = blue,urlcolor  = blue,citecolor = blue,anchorcolor = blue]{hyperref} %Titlepage - customizes hyperlinks
    \usepackage{pgfgantt} % Gantt-Diagram management
    \ganttset{calendar week text={Uge~\currentweek}}
    \usepackage{tikz}
    \usepackage{mdframed}

\usepackage{dirtree}    


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}


\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
   language=JavaScript,
   backgroundcolor=\color{lightgray},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

%%% Document management
\begin{document}
%% Front matter
    \pagenumbering{roman}
    \input{titlepage/titlepage.tex}
    \newpage
    \input{abstract/abstract.tex}
    \newpage
    \input{preface/preface.tex}
    \newpage
    \tableofcontents
    \newpage
%% Main body
    \pagenumbering{arabic}
    \input{section_1/section_1.tex} \newpage
    \input{section_2/section_2.tex} \newpage
    \input{indledning/indledning.tex} \newpage
    \input{section_3/section_3.tex} \newpage
    \input{section_4/section_4.tex} \newpage
    \input{section_5/section_5.tex} \newpage
    \input{section_6/section_6.tex} \newpage
    
    \input{section_7/section_7.tex} \newpage
    \newpage
%% Back matter
    \printbibliography[heading=bibintoc,title={Bibliografi}]
    \begin{appendices} \newpage
        \section{Projektbeskrivelse \label{appendix:projektbeskrivelse}} \newpage
        \renewcommand*{\thepage}{A\arabic{page}}
        \includepdf[pages=-,delta=5 5,frame=true,landscape=true,nup=1x2,pagecommand={\thispagestyle{plain}}]{appendix/Project description/project-description.pdf} \newpage
        \renewcommand*{\thepage}{\arabic{page}}
        \section{Logbog} \newpage
        \renewcommand*{\thepage}{B\arabic{page}}
        \includepdf[pages=-,delta=5 5,frame=true,landscape=true,nup=1x2,pagecommand={\thispagestyle{plain}}]{Log/log.pdf} \newpage
        \renewcommand*{\thepage}{\arabic{page}}

        \section{Arbejdsskitser \label{appendix:arbejdsskitser}} \newpage
        \renewcommand*{\thepage}{C\arabic{page}}
        \begin{figure}[H]
            \centering
            \resizebox{!}{10cm}{\includegraphics[angle=90]{assets/lectio_beskeder_skitse.jpg}} 
        \caption{Viser skitsen for lectiobesked-featuren}
        \end{figure}\newpage
        
        \begin{figure}[H]
            \centering
            \resizebox{!}{13cm}{\includegraphics{assets/lectio_lokaler_skitse.jpg}}
            \caption{Viser skitsen for lectiolokalebooking-featuren}
        \end{figure}\newpage

        \begin{figure}[H]
            \centering
            \resizebox{!}{10cm}{\includegraphics[angle =90]{assets/lectio_forside_skitse.jpg}}
            \caption{Viser skitsen for lectioskema-featuren}
        \end{figure}\newpage
        \renewcommand*{\thepage}{\arabic{page}}

        \section{Modulbrikkoden \label{appendix:modulbrikkode}} \newpage
        \renewcommand*{\thepage}{D\arabic{page}}
        \begin{lstlisting}[language=Javascript]
import './skema.css';
import { ChatBubbleOvalLeftIcon } from "@heroicons/react/24/outline";
import { PencilSquareIcon } from "@heroicons/react/24/outline";
import Link from 'next/link'


export default function skemaModule( args ) {

    if ( args.visibility == 'hide' ) {
        return (
            <div className="min-h-[88px]"></div>
        );
    } else {
        return (
        <Link href={`/skema/${args.id}`}>
        <div className="bg-[#9CCEFF] border-l-[10px] border-l-[#1E90FF] p-4 rounded-lg max-w-[275px] max-h-[88px] flex justify-between cursor-pointer hover:opacity-80 group">
            
            <div className="flex flex-col text-[#0D3F70] justify-center">
                <span className="font-bold text-xl">S 1x { args.subject }</span>
                <span>{ args.teacher }</span>
                <span>{ args.room }</span>
            </div>


        {/* Tooltip */}
        <div className='absolute'>
            <div className='max-w-[275px] flex flex-col flex-wrap mt-16'>
                <div>
                {(() => {
                    if ( args.note != '' ) {
                        return (
                            <span className='sidebar-tooltip group-hover:scale-100 relative left-[-30px]'><h1 className='font-black'>Note:</h1>&nbsp;<span>{ args.note }</span></span>
                            );
                        } else {
                            return (
                                ''
                                );
                            }
                })()} 
                </div>
                <div>
                {(() => {
                    if ( args.homework != '' ) {
                        return (
                            <span className='sidebar-tooltipH group-hover:scale-100 relative left-[-30px]'><h1 className='font-black'>Lektier:</h1>&nbsp;<span>{ args.homework }</span> </span>
                            );
                        } else {
                            return (
                                ''
                                );
                            }
                        })()} 
                </div>
            </div>
            </div>
            <div className="text-[#0D3F70] flex flex-row float-right">
                <div>
                    { (() => {
                        if ( args.note != '' ) {
                            return (
                                <span><ChatBubbleOvalLeftIcon className="h-5"/></span>
                                );
                            } else {
                                return (
                                    <span></span>
                                    );
                                }
                                
                            })()}
                </div>
                <div>
                    { (() => {
                        if ( args.homework != '' ) {
                            return (
                                <span><PencilSquareIcon className="h-5"/></span>
                                );
                            } else {
                                return (
                                    <span></span>
                            );
                        }
                        
                    })()}
                </div>
            </div>
        </div>
        </Link>
        );
    }
}
        \end{lstlisting} \newpage
        \section{Skemakomponentkode \label{appendix:SkemaModule}} \newpage
        \renewcommand*{\thepage}{D\arabic{page}}
        \begin{lstlisting}[language=Javascript]
<tbody>
                
{/* Module 1 */}
<tr>
    <td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">1.</span> </td>
    <td><SkemaModule subject={scheduleMon[0].subject} teacher={scheduleMon[0].teacher} room={scheduleMon[0].room} visibility={scheduleMon[0].visibility} note={scheduleMon[0].note} homework={scheduleMon[0].homework} id={scheduleMon[0].id}/></td>
    <td><SkemaModule subject={scheduleTue[0].subject} teacher={scheduleTue[0].teacher} room={scheduleMon[0].room} visibility={scheduleTue[0].visibility} note={scheduleTue[0].note} homework={scheduleTue[0].homework} id={scheduleTue[0].id}/></td>
    <td><SkemaModule subject={scheduleWed[0].subject} teacher={scheduleWed[0].teacher} room={scheduleWed[0].room} visibility={scheduleWed[0].visibility} note={scheduleWed[0].note} homework={scheduleWed[0].homework} id={scheduleWed[0].id}/></td>
    <td><SkemaModule subject={scheduleThu[0].subject} teacher={scheduleThu[0].teacher} room={scheduleThu[0].room} visibility={scheduleThu[0].visibility} note={scheduleThu[0].note} homework={scheduleThu[0].homework} id={scheduleThu[0].id}/></td>
    <td><SkemaModule subject={scheduleFri[0].subject} teacher={scheduleFri[0].teacher} room={scheduleFri[0].room} visibility={scheduleFri[0].visibility} note={scheduleFri[0].note} homework={scheduleFri[0].homework} id={scheduleFri[0].id}/></td>
</tr>

{/* Module 2 */}
<tr className="m-2">
    <td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">2.</span> </td>
    <td><SkemaModule subject={scheduleMon[1].subject} teacher={scheduleMon[1].teacher} room={scheduleMon[1].room} visibility={scheduleMon[1].visibility} note={scheduleMon[1].note} homework={scheduleMon[1].homework} id={scheduleMon[1].id} /></td>
    <td><SkemaModule subject={scheduleTue[1].subject} teacher={scheduleTue[1].teacher} room={scheduleTue[1].room} visibility={scheduleTue[1].visibility} note={scheduleTue[1].note} homework={scheduleTue[1].homework} id={scheduleTue[1].id} /></td>
    <td><SkemaModule subject={scheduleWed[1].subject} teacher={scheduleWed[1].teacher} room={scheduleWed[1].room} visibility={scheduleWed[1].visibility} note={scheduleWed[1].note} homework={scheduleWed[1].homework} id={scheduleWed[1].id} /></td>
    <td><SkemaModule subject={scheduleThu[1].subject} teacher={scheduleThu[1].teacher} room={scheduleThu[1].room} visibility={scheduleThu[1].visibility} note={scheduleThu[1].note} homework={scheduleThu[1].homework} id={scheduleThu[1].id} /></td>
    <td><SkemaModule subject={scheduleFri[1].subject} teacher={scheduleFri[1].teacher} room={scheduleFri[1].room} visibility={scheduleFri[1].visibility} note={scheduleFri[1].note} homework={scheduleFri[1].homework} id={scheduleFri[1].id} /></td>
</tr>

{/* Module 3 */}
<tr>
<td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">3.</span> </td>
    <td><SkemaModule subject={scheduleMon[2].subject} teacher={scheduleMon[2].teacher} room={scheduleMon[2].room} visibility={scheduleMon[2].visibility} note={scheduleMon[2].note} homework={scheduleMon[2].homework} id={scheduleMon[2].id} /></td>
    <td><SkemaModule subject={scheduleTue[2].subject} teacher={scheduleTue[2].teacher} room={scheduleTue[2].room} visibility={scheduleTue[2].visibility} note={scheduleTue[2].note} homework={scheduleTue[2].homework} id={scheduleTue[2].id} /></td>
    <td><SkemaModule subject={scheduleWed[2].subject} teacher={scheduleWed[2].teacher} room={scheduleWed[2].room} visibility={scheduleWed[2].visibility} note={scheduleWed[2].note} homework={scheduleWed[2].homework} id={scheduleWed[2].id} /></td>
    <td><SkemaModule subject={scheduleThu[2].subject} teacher={scheduleThu[2].teacher} room={scheduleThu[2].room} visibility={scheduleThu[2].visibility} note={scheduleThu[2].note} homework={scheduleThu[2].homework} id={scheduleThu[2].id} /></td>
    <td><SkemaModule subject={scheduleFri[2].subject} teacher={scheduleFri[2].teacher} room={scheduleFri[2].room} visibility={scheduleFri[2].visibility} note={scheduleFri[2].note} homework={scheduleFri[2].homework} id={scheduleFri[2].id} /></td>
</tr>

{/* Module 4 */}
<tr>
<td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">4.</span> </td>
    <td><SkemaModule subject={scheduleMon[3].subject} teacher={scheduleMon[3].teacher} room={scheduleMon[3].room} visibility={scheduleMon[3].visibility} note={scheduleMon[3].note} homework={scheduleMon[3].homework} id={scheduleMon[3].id} /></td>
    <td><SkemaModule subject={scheduleTue[3].subject} teacher={scheduleTue[3].teacher} room={scheduleTue[3].room} visibility={scheduleTue[3].visibility} note={scheduleTue[3].note} homework={scheduleTue[3].homework} id={scheduleTue[3].id} /></td>
    <td><SkemaModule subject={scheduleWed[3].subject} teacher={scheduleWed[3].teacher} room={scheduleWed[3].room} visibility={scheduleWed[3].visibility} note={scheduleWed[3].note} homework={scheduleWed[3].homework} id={scheduleWed[3].id} /></td>
    <td><SkemaModule subject={scheduleThu[3].subject} teacher={scheduleThu[3].teacher} room={scheduleThu[3].room} visibility={scheduleThu[3].visibility} note={scheduleThu[3].note} homework={scheduleThu[3].homework} id={scheduleThu[3].id} /></td>
    <td><SkemaModule subject={scheduleFri[3].subject} teacher={scheduleFri[3].teacher} room={scheduleFri[3].room} visibility={scheduleFri[3].visibility} note={scheduleFri[3].note} homework={scheduleFri[3].homework} id={scheduleFri[3].id} /></td>
</tr>

{/* Module 5 */}
<tr>
<td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">5.</span> </td>
    <td><SkemaModule subject={scheduleMon[4].subject} teacher={scheduleMon[4].teacher} room={scheduleMon[4].room} visibility={scheduleMon[3].visibility} note={scheduleMon[4].note} homework={scheduleMon[4].homework} id={scheduleMon[4].id} /></td>
    <td><SkemaModule subject={scheduleTue[4].subject} teacher={scheduleTue[4].teacher} room={scheduleTue[4].room} visibility={scheduleTue[4].visibility} note={scheduleTue[4].note} homework={scheduleMon[4].homework} id={scheduleTue[4].id} /></td>
    <td><SkemaModule subject={scheduleWed[4].subject} teacher={scheduleWed[4].teacher} room={scheduleWed[4].room} visibility={scheduleWed[4].visibility} note={scheduleWed[4].note} homework={scheduleTue[4].homework} id={scheduleWed[4].id} /></td>
    <td><SkemaModule subject={scheduleThu[4].subject} teacher={scheduleThu[4].teacher} room={scheduleThu[4].room} visibility={scheduleThu[4].visibility} note={scheduleThu[4].note} homework={scheduleWed[4].homework} id={scheduleThu[4].id} /></td>
    <td><SkemaModule subject={scheduleFri[4].subject} teacher={scheduleFri[4].teacher} room={scheduleFri[4].room} visibility={scheduleFri[4].visibility} note={scheduleFri[4].note} homework={scheduleFri[4].homework} id={scheduleFri[4].id} /></td>
</tr>

{/* Module 6 */}
<tr>
<td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">6.</span> </td>
    <td><SkemaModule subject={scheduleMon[5].subject} teacher={scheduleMon[5].teacher} room={scheduleMon[5].room} visibility={scheduleMon[5].visibility} note={scheduleMon[5].note} homework={scheduleMon[5].homework} id={scheduleMon[5].id} /></td>
    <td><SkemaModule subject={scheduleTue[5].subject} teacher={scheduleTue[5].teacher} room={scheduleTue[5].room} visibility={scheduleTue[5].visibility} note={scheduleTue[5].note} homework={scheduleTue[5].homework} id={scheduleTue[5].id} /></td>
    <td><SkemaModule subject={scheduleWed[5].subject} teacher={scheduleWed[5].teacher} room={scheduleWed[5].room} visibility={scheduleWed[5].visibility} note={scheduleWed[5].note} homework={scheduleWed[5].homework} id={scheduleWed[5].id} /></td>
    <td><SkemaModule subject={scheduleThu[5].subject} teacher={scheduleThu[5].teacher} room={scheduleThu[5].room} visibility={scheduleThu[5].visibility} note={scheduleThu[5].note} homework={scheduleThu[5].homework} id={scheduleThu[5].id} /></td>
    <td><SkemaModule subject={scheduleFri[5].subject} teacher={scheduleFri[5].teacher} room={scheduleFri[5].room} visibility={scheduleFri[5].visibility} note={scheduleFri[5].note} homework={scheduleFri[5].homework} id={scheduleFri[5].id} /></td>
</tr>

{/* Module 7 */}
<tr>
<td> <span className="h-[50px] bg-slate-300 py-10 px-2 rounded-e-md text-slate-600 font-bold">7.</span> </td>
    <td><SkemaModule subject={scheduleMon[6].subject} teacher={scheduleMon[6].teacher} room={scheduleMon[6].room} visibility={scheduleMon[6].visibility} note={scheduleMon[6].note} homework={scheduleMon[6].homework} id={scheduleMon[6].id} /></td>
    <td><SkemaModule subject={scheduleTue[6].subject} teacher={scheduleTue[6].teacher} room={scheduleTue[6].room} visibility={scheduleTue[6].visibility} note={scheduleTue[6].note} homework={scheduleTue[6].homework} id={scheduleTue[6].id} /></td>
    <td><SkemaModule subject={scheduleWed[6].subject} teacher={scheduleWed[6].teacher} room={scheduleWed[6].room} visibility={scheduleWed[6].visibility} note={scheduleWed[6].note} homework={scheduleWed[6].homework} id={scheduleWed[6].id} /></td>
    <td><SkemaModule subject={scheduleThu[6].subject} teacher={scheduleThu[6].teacher} room={scheduleThu[6].room} visibility={scheduleThu[6].visibility} note={scheduleThu[6].note} homework={scheduleThu[6].homework} id={scheduleThu[6].id} /></td>
    <td><SkemaModule subject={scheduleFri[6].subject} teacher={scheduleFri[6].teacher} room={scheduleFri[6].room} visibility={scheduleFri[6].visibility} note={scheduleFri[6].note} homework={scheduleFri[6].homework} id={scheduleFri[6].id} /></td>
</tr>
</tbody>
        \end{lstlisting} \newpage
        \section{Datahåndteringssystem \label{appendix:datahåndteringssystem}} \newpage
        \renewcommand*{\thepage}{F\arabic{page}}
        \begin{lstlisting}[language=Javascript]
export default function skema() {
const weekNumbers = ["29/4", "30/4", "1/5", "2/5", "3/5"];


const today = new Date();
const month = today.getMonth()+1;
const year = today.getFullYear();
const date = today.getDate();
const currentDate = month + "/" + date + "/" + year;

const currentFormattedDate = month + "-" + date + "-" + year; 

const weekDate = date + "/" + month;

var currentWeekNumber = require('current-week-number');


return (
    <div className="px-10">
        <Link href={`/${scheduleMon[1].subject + '-' + currentFormattedDate}`}></Link>
        
        <div className="container">
            <div className="w-[80vw] h-[100vh] py-10">
                <div className="w-full flex justify-center font-bold bg-white py-2">
                    <h1> Uge { currentWeekNumber(currentDate) } - { year }</h1>
                </div>
                <table className="w-full h-full bg-white">
                    <thead>
                        <tr className="h-20">
                            <th></th>
                            <th> 
{ (() => {
        if (weekNumbers[0] == weekDate) {
            return (
                <span className="px-10 p-4 rounded-xl bg-[#1E90FF] text-white font-normal">Mandag <strong>{ weekNumbers[0] }</strong></span> 
            );
        } else {
            return (
                <span className="px-10 p-4 rounded-xl bg-slate-200 font-normal">Mandag <strong>{ weekNumbers[0] }</strong></span>
            );
        }

    })()}
</th>
<th> 
{ (() => {
    if (weekNumbers[1] == weekDate) {
        return (
            <span className="px-10 p-4 rounded-xl bg-[#1E90FF] text-white font-normal">Tirsdag <strong>{ weekNumbers[1] }</strong></span> 
        );
    }   else {
        return (
            <span className="px-10 p-4 rounded-xl bg-slate-200 font-normal">Tirsdag <strong>{ weekNumbers[1] }</strong></span> 
        );
    }
}) ()}
</th>
<th> 
{ (() => {
    if (weekNumbers[2] == weekDate) {
        return (
            <span className="px-10 p-4 rounded-xl bg-[#1E90FF] text-white font-normal">Onsdag <strong>{ weekNumbers[2] }</strong></span> 
        );
    }   else {
        return (
            <span className="px-10 p-4 rounded-xl bg-slate-200 font-normal">Onsdag <strong>{ weekNumbers[2] }</strong></span> 
        );
    }
}) ()}
</th>
<th> 
{ (() => {
    if (weekNumbers[3] == weekDate) {
        return (
            <span className="px-10 p-4 rounded-xl bg-[#1E90FF] text-white font-normal">Torsdag <strong>{ weekNumbers[3] }</strong></span> 
        );
    }   else {
        return (
            <span className="px-10 p-4 rounded-xl bg-slate-200 font-normal">Torsdag <strong>{ weekNumbers[3] }</strong></span> 
        );
    }
}) ()}
</th>
<th> 
{ (() => {
    if (weekNumbers[4] == weekDate) {
        return (
            <span className="px-10 p-4 rounded-xl bg-[#1E90FF] text-white font-normal">Fredag <strong>{ weekNumbers[4] }</strong></span> 
        );
    }   else {
        return (
            <span className="px-10 p-4 rounded-xl bg-slate-200 font-normal">Fredag <strong>{ weekNumbers[4] }</strong></span> 
        );
    }
}) ()}
                            </th>
                        </tr>
                    </thead>
        \end{lstlisting} \newpage

        \section{Eksempel på beskedfunktionalitet} \newpage
        \renewcommand*{\thepage}{G\arabic{page}}
        \begin{landscape}
        \begin{figure}[H]
        \centering
        \resizebox{\columnwidth}{!}{\includegraphics{assets/beskeder.png}}
        \end{figure}
        \end{landscape}
    
    \end{appendices}
\end{document}
